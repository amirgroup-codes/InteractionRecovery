# q-sft implementation of ESM

If not already present, create the folder `model/` folder in this directory. This is where the ESM model will install to. 

## Running q-sft

More detail on running q-sft is found in the `scripts/` folder, as well as a list of parameters. To run these scripts, execute the following commands:

```console
cd scripts
sh 0_setup.sh
sh 1_helper.sh
```

## Description of files

**fasta/:** contains all fasta files needed to run GB1, GFP, and TP53. To run on additional proteins, add relevant fasta files to this folder and update `0_setup.sh`.

**model/:** contains the ESM model. Create the folder `model/` if not already present. ESM will download upon execution of `1_helper.sh`.

**results/:** stores all results generated by q-sft. Results are organized by protein. Below is a brief description of files that are present:

- **test/:** contains the 10,000 testing samples used upon recovering Fourier coefficients
- **train/:** contains all samples used to recover Fourier coefficients
- **helper_results.txt:** summary statistics of q-sft run
- **magnitude_of_interactions.png:** overview of the interacitons recovered 
- **nmse.png:** only generated with hyperparam=True. Summary of tuning `noise_sd`
- **positions.pickle:** array of positions tested in the protein
- **qsft_indices.pickle, qsft_transform.pickle:** coefficients and relevant Fourier magnitudes of the Fourier transform 
- **sorted_qsft_transform.pickle:** sorted Fourier coefficients from largest to smallest magnitude 

**scripts/:** contains bash scripts needed to run q-sft

**src/:** necessary files to run q-sft

**generate_files.py** Python script called upon running `0_setup.sh`

**run_helper.py** Python script called upon running `1_helper.sh`

